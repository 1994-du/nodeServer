import{_}from"./_plugin-vue_export-helper-c27b6911.js";import{b as i,j as o,k as h,l as u,q as a,w as e,m as t,F as p,D as v,y as f,z as m,x as c}from"./index-104000c2.js";const d=l=>(f("data-v-237edcc1"),l=l(),m(),l),x=d(()=>t("h2",null,"浏览器缓存的优点",-1)),b=d(()=>t("p",null,"1.减少重复数据请求，节省流量",-1)),w=d(()=>t("p",null,"2.降低服务器压力，提高网站性能",-1)),g=d(()=>t("p",null,"3.加快网页加载速度，提升用户体验",-1)),E=d(()=>t("h2",null,"缓存基本原理",-1)),M=d(()=>t("p",null,"第一次请求时，浏览器缓存资源；",-1)),S=d(()=>t("p",null,[c("再次请求时，根据响应头中的"),t("b",null,"expires"),c("或"),t("b",null,"cache-control"),c("来判断是否命中 "),t("b",null,"强缓存")],-1)),N={class:"cache_cards"},y=d(()=>t("p",null,"强缓存---状态码：200(from cache)",-1)),C=d(()=>t("p",null,"请求不会被服务器接收到",-1)),I={class:"card_content"},T=d(()=>t("p",null,"cache-control:",-1)),D=d(()=>t("p",null,"expires:资源过期时间；在过期时间内请求资源不会请求服务器，直接在缓存里面获取；",-1)),L=d(()=>t("p",null,"协商缓存---状态码：304(not modified)",-1)),V={class:"card_content"},k=d(()=>t("p",null,"If-None-Match/Etag:",-1)),B=d(()=>t("p",null,"if-Modified-Since(If-Unmodified-Since)/Last-Modified:",-1)),F=d(()=>t("table",{border:"",cellspacing:"0"},[t("tr",null,[t("th",{style:{width:"80px"}},"缓存类型"),t("th",{style:{width:"150px"}},"头字段"),t("th",null,"字段含义"),t("th",null,"优点"),t("th",null,"缺点")]),t("tr",null,[t("td",{rowspan:"2"},"强缓存"),t("td",null,"Cache-Control"),t("td",null,"请求/响应头，缓存控制字段，精确控制缓存策略；HTTP1.1新增字段，既能出现在请求头，也能出现在相应头，不同值代表不同意思"),t("td",null,"\\"),t("td",null,"\\")]),t("tr",null,[t("td",null,"Expires"),t("td",null,"Expires:响应头，表示资源过期时间"),t("td",null,"在过期时间内请求，不需要请求服务器，直接在缓存里面拿，为用户节省流量，减少服务器重复读取磁盘文件压力"),t("td",null,"过期后，资源未变化还是会请求服务器，过期时间依赖客户端时间，时间不准确或者被改动，缓存也随之受影响")]),t("tr",null,[t("td",{rowspan:"4"},"协商缓存"),t("td",{rowspan:"2"},[c("Etag "),t("br"),c(" if-None-Match")]),t("td",null,"Etag：响应头，资源标识，有服务器告诉浏览器，Etag由文件修改时间和大小计算而成"),t("td",{rowspan:"2"},"当缓存有效时，服务器不会返回文件，直接返回304状态码，让客户端从缓存中获取文件，节省流量和宽带及服务器压力。并且解决了一秒内修改并读取文件的问题"),t("td",{rowspan:"2"},"/")]),t("tr",null,[t("td",null,"if-None-Match:请求头，缓存资源标识，由浏览器告诉服务器，即第一次访问服务器时返回的Etag的值")]),t("tr",null,[t("td",{rowspan:"2"},[c("Last-modified "),t("br"),c(" if-Modified-Since、")]),t("td",null,"Last-modified：响应头，资源最近修改时间，由服务器告诉浏览器"),t("td",{rowspan:"2"},"当缓存有效时，服务器不会返回文件，直接返回304状态码，让客户端从缓存中获取文件。节省流量和宽带及服务器压力"),t("td",{rowspan:"2"},"过期时间只能精确到秒，如果同一秒即修改又获取了文件，客户端拿不到最新的文件")]),t("tr",null,[t("td",null,"if-Modified-Since：请求头，资源最近修改时间。即第一次访问服务器时返回的Last-Modified的值")])],-1)),H=v("<h2 data-v-237edcc1>Cache-Control:请求/响应头，缓存控制字段，精确控制缓存策略；HTTP1.1新增字段，既能出现在请求头，也能出现在相应头，不同值代表不同意思</h2><h5 data-v-237edcc1>服务端参数</h5><table border data-v-237edcc1><tr data-v-237edcc1><th data-v-237edcc1>值</th><th data-v-237edcc1>含义</th></tr><tr data-v-237edcc1><td data-v-237edcc1>max-age</td><td data-v-237edcc1>在多少秒内有效，是一个相对时间，比Expires更精确</td></tr><tr data-v-237edcc1><td data-v-237edcc1>s-maxage</td><td data-v-237edcc1>表示缓存服务器上的缓存的有效时间，并只对public缓存有效</td></tr><tr data-v-237edcc1><td data-v-237edcc1>no-cache</td><td data-v-237edcc1>不使用本地强缓存，需要使用协商缓存</td></tr><tr data-v-237edcc1><td data-v-237edcc1>no-store</td><td data-v-237edcc1>直接禁止浏览器缓存数据，每次请求都会向服务器发送一个请求，每次都会下载完整资源</td></tr><tr data-v-237edcc1><td data-v-237edcc1>public</td><td data-v-237edcc1>可以被所有用户缓存，包括终端用户和中间代理服务器</td></tr><tr data-v-237edcc1><td data-v-237edcc1>private</td><td data-v-237edcc1>只能被终端用户的浏览器缓存，不允许中间缓存代理进行缓存</td></tr></table><h5 data-v-237edcc1>客户端参数</h5><table border data-v-237edcc1><tr data-v-237edcc1><th data-v-237edcc1>值</th><th data-v-237edcc1>含义</th></tr><tr data-v-237edcc1><td data-v-237edcc1>max-stale</td><td data-v-237edcc1>例如：5;表示客户端到代理服务器上拿缓存的时候，即使代理缓存过期了也不要紧，只要在过期时间5秒内，还是可以从代理中获取</td></tr><tr data-v-237edcc1><td data-v-237edcc1>min-fresh</td><td data-v-237edcc1>表示代理缓存需要一定的新鲜度，一定要在缓存到期前5秒之前的时间拿，否则拿不到</td></tr><tr data-v-237edcc1><td data-v-237edcc1>only-if-cached</td><td data-v-237edcc1>表示客户端只会接受代理缓存，而不会接收源服务器的响应。如果代理缓存失效，则返回50</td></tr></table>",5),P={__name:"cacheDetail",setup(l){return i([{name:"1",children:[{name:"1-1",children:[{name:"1-1-1",children:[]}]}]}]),(j,q)=>{const n=o("el-card"),s=o("el-col"),r=o("el-row");return h(),u(p,null,[a(n,null,{default:e(()=>[x,b,w,g]),_:1}),a(n,null,{default:e(()=>[E,M,S]),_:1}),t("div",N,[a(n,{class:"box-card"},{header:e(()=>[y,C]),default:e(()=>[t("div",I,[a(r,null,{default:e(()=>[a(s,{span:24},{default:e(()=>[T,D]),_:1})]),_:1})])]),_:1}),a(n,{class:"box-card"},{header:e(()=>[L]),default:e(()=>[t("div",V,[a(r,null,{default:e(()=>[a(s,{span:24},{default:e(()=>[k,B]),_:1})]),_:1})])]),_:1})]),F,H],64)}}},A=_(P,[["__scopeId","data-v-237edcc1"]]);export{A as default};

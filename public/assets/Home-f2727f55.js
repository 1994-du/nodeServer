import{u as M,g as O,a as T,r as h,b as q,c as D,o as F,d as H,e as P,f as W,h as j,i as A,j as r,k as w,l as b,m as t,t as d,n as p,p as _,q as c,w as a,F as x,s as J,v as K,x as B}from"./index-104000c2.js";const z=""+new URL("../static/image/set.png",import.meta.url).href,G=""+new URL("../static/image/logout.png",import.meta.url).href,Q=""+new URL("../static/image/toTop.svg",import.meta.url).href;const Y={class:"layout"},Z={class:"userinfo"},ee=["src"],te={class:"operation"},oe={class:"container"},ne={class:"layout_menu"},se={class:"layout_content"},ae=t("img",{src:Q,alt:""},null,-1),le=[ae],ue=t("span",null,"确认退出登录？",-1),re=t("h6",{class:"dialog__headercon"},"提示",-1),ce={class:"dialog-footer"},pe={__name:"Home",setup(ie){M();const{proxy:L}=O(),f=T();let m=h(""),g=q({value:{}}),s=h(!1);const k=D(()=>f.getRoutes().filter(e=>e.path!="/"&&e.path!="/login")),S=function(e,o){let i=[];k.value.forEach(l=>{~l.meta.name.toLowerCase().indexOf(e.toLowerCase())&&i.push({value:l.meta.name,link:l.path})}),o(i)},U=function(e){f.push(e.link),m.value=""},I=function(e){f.push(e.path)},N=h(),R=()=>{document.getElementsByClassName("layout_menu")[0].scrollIntoView({behavior:"smooth"})},X=e=>{let o=document.getElementsByClassName("layout_menu")[0],i=o.offsetWidth,l=e.clientX;document.onmousemove=u=>{let v=u.clientX-l;o.style.width=i+v+"px"},document.onmouseup=u=>{u.stopPropagation(),document.onmousemove=null,document.onmouseup=null,u.releaseCapture&&u.releaseCapture()}},$=()=>{sessionStorage.removeItem("token"),L.$router.push("/login"),s.value=!1};return F(()=>{}),H(()=>{}),P(()=>{console.log("activated");let e=sessionStorage.getItem("token");e&&(g.value=JSON.parse(e))}),W(()=>{}),j(()=>{}),A(()=>{}),(e,o)=>{const i=r("el-autocomplete"),l=r("el-menu-item"),u=r("el-menu"),y=r("el-scrollbar"),v=r("router-view"),C=r("el-button"),E=r("el-dialog");return w(),b(x,null,[t("div",Y,[t("header",null,[t("div",Z,[t("span",null,d(p(g).value.name),1),t("img",{src:p(g).value.avatar,alt:""},null,8,ee)]),t("div",te,[t("img",{class:"set",src:z,alt:"",onClick:o[0]||(o[0]=n=>e.$router.push("/set"))}),t("img",{class:"set",src:G,alt:"",onClick:o[1]||(o[1]=n=>_(s)?s.value=!0:s=!0)})])]),t("div",oe,[c(y,null,{default:a(()=>[t("div",ne,[c(i,{modelValue:p(m),"onUpdate:modelValue":o[2]||(o[2]=n=>_(m)?m.value=n:m=n),"fetch-suggestions":S,"trigger-on-focus":!1,clearable:"",class:"inline-input w-50",placeholder:"搜索关键字",onSelect:U,ref_key:"searchIpt",ref:N},null,8,["modelValue"]),c(u,null,{default:a(()=>[(w(!0),b(x,null,J(k.value,(n,V)=>(w(),K(l,{key:n.meta.name+V,index:n.meta.name+V,onClick:me=>I(n)},{default:a(()=>[t("span",null,d(n.meta.name),1)]),_:2},1032,["index","onClick"]))),128))]),_:1}),t("div",{class:"drop_box",onMousedown:X},null,32)])]),_:1}),t("div",se,[c(v)]),t("div",{class:"toTop",onClick:R},le)])]),c(E,{modelValue:p(s),"onUpdate:modelValue":o[4]||(o[4]=n=>_(s)?s.value=n:s=n),width:"200px"},{header:a(()=>[re]),footer:a(()=>[t("span",ce,[c(C,{type:"primary",onClick:$},{default:a(()=>[B(d(e.$t("common.confirm")),1)]),_:1}),c(C,{onClick:o[3]||(o[3]=n=>_(s)?s.value=!1:s=!1)},{default:a(()=>[B(d(e.$t("common.cancel")),1)]),_:1})])]),default:a(()=>[ue]),_:1},8,["modelValue"])],64)}}};export{pe as default};
